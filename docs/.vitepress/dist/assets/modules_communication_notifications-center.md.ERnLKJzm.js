import{_ as e,c as a,o as n,ae as s}from"./chunks/framework.CBTkueSR.js";const d=JSON.parse('{"title":"Notification Preferences","description":"","frontmatter":{},"headers":[],"relativePath":"modules/communication/notifications-center.md","filePath":"modules/communication/notifications-center.md","lastUpdated":1764334022000}'),t={name:"modules/communication/notifications-center.md"};function o(l,i,r,c,h,p){return n(),a("div",null,[...i[0]||(i[0]=[s(`<h1 id="notification-preferences" tabindex="-1">Notification Preferences <a class="header-anchor" href="#notification-preferences" aria-label="Permalink to &quot;Notification Preferences&quot;">​</a></h1><p>Control which notification channels you receive system notifications through. Each user can customize their notification preferences individually.</p><p>Access via <strong>Admin Panel → Communication → Notification Preferences</strong>.</p><h2 id="overview" tabindex="-1">Overview <a class="header-anchor" href="#overview" aria-label="Permalink to &quot;Overview&quot;">​</a></h2><p>Notification Preferences allows you to choose how you receive different types of system notifications. You can enable or disable notifications for each channel (Email, SMS, Web Notification) independently for each notification type.</p><h2 id="available-notification-types" tabindex="-1">Available Notification Types <a class="header-anchor" href="#available-notification-types" aria-label="Permalink to &quot;Available Notification Types&quot;">​</a></h2><p>The system automatically creates preferences for the following notification types:</p><ol><li><strong>New Registration</strong> - Notifications when new users register</li><li><strong>Welcome Email</strong> - Welcome email notifications</li><li><strong>Forgot Password</strong> - Notifications for password reset requests</li><li><strong>Reset Password Confirmation</strong> - Confirmation notifications after password reset</li><li><strong>Contact Confirmation</strong> - Confirmation when contact forms are submitted</li><li><strong>New Contact Enquiry</strong> - Notifications for new contact form submissions</li></ol><h2 id="notification-channels" tabindex="-1">Notification Channels <a class="header-anchor" href="#notification-channels" aria-label="Permalink to &quot;Notification Channels&quot;">​</a></h2><p>For each notification type, you can control three delivery channels:</p><h3 id="email" tabindex="-1">Email <a class="header-anchor" href="#email" aria-label="Permalink to &quot;Email&quot;">​</a></h3><ul><li>Receive notifications via email</li><li>Requires email configuration in Settings → Email</li><li>Notifications are sent to your registered email address</li></ul><h3 id="sms" tabindex="-1">SMS <a class="header-anchor" href="#sms" aria-label="Permalink to &quot;SMS&quot;">​</a></h3><ul><li>Receive notifications via SMS/text message</li><li>Requires SMS configuration in Settings → SMS (Twilio)</li><li>Notifications are sent to your registered phone number</li></ul><h3 id="web-notification" tabindex="-1">Web Notification <a class="header-anchor" href="#web-notification" aria-label="Permalink to &quot;Web Notification&quot;">​</a></h3><ul><li>Receive in-app notifications</li><li>Appears as bell icon alerts in the admin panel</li><li>No external service configuration required</li></ul><h2 id="using-notification-preferences" tabindex="-1">Using Notification Preferences <a class="header-anchor" href="#using-notification-preferences" aria-label="Permalink to &quot;Using Notification Preferences&quot;">​</a></h2><h3 id="accessing-preferences" tabindex="-1">Accessing Preferences <a class="header-anchor" href="#accessing-preferences" aria-label="Permalink to &quot;Accessing Preferences&quot;">​</a></h3><ol><li>Navigate to <strong>Admin Panel → Communication → Notification Preferences</strong></li><li>You&#39;ll see a table with all available notification types</li><li>Each row shows one notification type with three toggle switches</li></ol><h3 id="configuring-preferences" tabindex="-1">Configuring Preferences <a class="header-anchor" href="#configuring-preferences" aria-label="Permalink to &quot;Configuring Preferences&quot;">​</a></h3><p>The interface displays a grid with 4 columns:</p><ul><li><strong>Notification Type</strong> - The name of the notification</li><li><strong>SMS</strong> - Toggle to enable/disable SMS notifications</li><li><strong>Email</strong> - Toggle to enable/disable email notifications</li><li><strong>Web Notification</strong> - Toggle to enable/disable in-app notifications</li></ul><h3 id="saving-changes" tabindex="-1">Saving Changes <a class="header-anchor" href="#saving-changes" aria-label="Permalink to &quot;Saving Changes&quot;">​</a></h3><ol><li>Toggle the switches for each notification type and channel as desired</li><li>Click <strong>Save</strong> to apply your changes</li><li>A success notification confirms your preferences have been updated</li></ol><h2 id="how-it-works" tabindex="-1">How It Works <a class="header-anchor" href="#how-it-works" aria-label="Permalink to &quot;How It Works&quot;">​</a></h2><h3 id="auto-creation" tabindex="-1">Auto-Creation <a class="header-anchor" href="#auto-creation" aria-label="Permalink to &quot;Auto-Creation&quot;">​</a></h3><p>When you first access Notification Preferences, the system automatically creates preference records for all default notification types. If a preference doesn&#39;t exist, it will be created with all channels disabled by default.</p><h3 id="per-user-settings" tabindex="-1">Per-User Settings <a class="header-anchor" href="#per-user-settings" aria-label="Permalink to &quot;Per-User Settings&quot;">​</a></h3><ul><li>Each user has their own notification preferences</li><li>Preferences are stored per user ID and permission name</li><li>Changes only affect your own notifications, not other users</li></ul><h3 id="database-storage" tabindex="-1">Database Storage <a class="header-anchor" href="#database-storage" aria-label="Permalink to &quot;Database Storage&quot;">​</a></h3><p>Preferences are stored in the <code>notification_preferences</code> table with the following structure:</p><ul><li><code>user_id</code> - The user who owns the preference</li><li><code>permission_name</code> - The notification type identifier</li><li><code>email</code> - Boolean flag for email channel</li><li><code>sms</code> - Boolean flag for SMS channel</li><li><code>web_notification</code> - Boolean flag for web notification channel</li></ul><h2 id="best-practices" tabindex="-1">Best Practices <a class="header-anchor" href="#best-practices" aria-label="Permalink to &quot;Best Practices&quot;">​</a></h2><ol><li><strong>Review Regularly</strong> - Check your notification preferences periodically to ensure you&#39;re receiving important notifications</li><li><strong>Channel Selection</strong> - Choose the most appropriate channel for each notification type: <ul><li>Use <strong>Email</strong> for important notifications you want to archive</li><li>Use <strong>SMS</strong> for urgent notifications that need immediate attention</li><li>Use <strong>Web Notification</strong> for less critical notifications you can check in-app</li></ul></li><li><strong>Avoid Overload</strong> - Don&#39;t enable all channels for all notification types to avoid notification fatigue</li><li><strong>Test Configuration</strong> - Ensure email and SMS services are properly configured in Settings before enabling those channels</li></ol><h2 id="integration-with-notification-system" tabindex="-1">Integration with Notification System <a class="header-anchor" href="#integration-with-notification-system" aria-label="Permalink to &quot;Integration with Notification System&quot;">​</a></h2><p>When the application sends notifications, it checks your preferences:</p><ul><li>If a channel is enabled for a notification type, you&#39;ll receive the notification via that channel</li><li>If all channels are disabled for a notification type, you won&#39;t receive that notification</li><li>The system respects your preferences automatically</li></ul><h2 id="developer-notes" tabindex="-1">Developer Notes <a class="header-anchor" href="#developer-notes" aria-label="Permalink to &quot;Developer Notes&quot;">​</a></h2><h3 id="adding-new-notification-types" tabindex="-1">Adding New Notification Types <a class="header-anchor" href="#adding-new-notification-types" aria-label="Permalink to &quot;Adding New Notification Types&quot;">​</a></h3><p>To add new notification types:</p><ol><li>Add the permission name to the <code>$defaults</code> array in <code>NotificationPreferences.php</code></li><li>Add a display label to the <code>$labels</code> array</li><li>The system will automatically create preferences for all users on their next access</li></ol><h3 id="accessing-preferences-in-code" tabindex="-1">Accessing Preferences in Code <a class="header-anchor" href="#accessing-preferences-in-code" aria-label="Permalink to &quot;Accessing Preferences in Code&quot;">​</a></h3><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">use</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> App\\Models\\NotificationPreference</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Check if user wants email notifications for a specific type</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$pref </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> NotificationPreference</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;user_id&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, $userId)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    -&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">where</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;permission_name&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;new_registration&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    -&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">first</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ($pref </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $pref</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">email) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Send email notification</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Check SMS preference</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ($pref </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $pref</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sms) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Send SMS notification</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Check web notification preference</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ($pref </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $pref</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">web_notification) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Create in-app notification</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="tips" tabindex="-1">Tips <a class="header-anchor" href="#tips" aria-label="Permalink to &quot;Tips&quot;">​</a></h2><ul><li>Preferences are user-specific, so each team member can customize their own notifications</li><li>Disabled channels won&#39;t send notifications even if the service is configured</li><li>Web notifications appear in the admin panel&#39;s notification bell icon</li><li>Email and SMS notifications require proper service configuration in Settings</li><li>You can enable/disable channels independently - you don&#39;t need to enable all three</li></ul>`,45)])])}const g=e(t,[["render",o]]);export{d as __pageData,g as default};
